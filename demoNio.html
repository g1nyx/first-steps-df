<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Advinhe o numero</title>
  <style>
  body {
    background-color: #080838;
    color: #f2dcff;
    text-align: center;
    padding-top: 50px;
  }

  button {
    background-color: #4a148c;
    color: #f2dcff;
    border: none;
    padding: 10px 20px;
    font-family: Courier;
    font-size: 18px;
    border-radius: 8px;
    cursor: pointer;
    margin-top: 20px;
  }

  button:hover {
    background-color: #8e44ad;
  }

  #purpleGif {
  display: block;
  margin: 40px auto 0;
  width: 75%;
  max-width: 700%;
  }

</style>
</head>
<body>
  <p style="font-family: 'Courier New'; font-size: 20px; color: #f2dcff;">üß© Advinhe o numero secreto.</p>
  <button onclick="iniciarJogo()">Iniciar Jogo</button>

  <script>
    let melhorPontuacao = 0; // Fica fora do loop e guarda o melhor resultado
    function iniciarJogo()
    {

      let dificuldade = prompt("Escolha a dificuldade: f√°cil, m√©dio ou dif√≠cil");
        let limite;

        if (dificuldade === "f√°cil") {
          limite = 10;
        } else if (dificuldade === "m√©dio") {
          limite = 50;
        } else if (dificuldade === "dif√≠cil") {
          limite = 100;
        } else {
          alert("Dificuldade inv√°lida. Tente novamente.");
          return; // encerra a fun√ß√£o
        }

    let jogarNovamente = true;

    while (jogarNovamente)
    {

      let tentativas = 0;
      let acertou = false;

      while (tentativas < 5)
      {
        let numeroSecreto = parseInt(Math.random() * limite) + 1;
        console.log(numeroSecreto)

        let chute = parseInt(prompt(`Tente adivinhar o n√∫mero de 1 a ${limite}`));
        tentativas++; // forma pr√°tica de somar 1 a  vari√°vel
        // tentativas s√≥ somam e n√£o param em caso de acerto
        if(chute != numeroSecreto)
        {
          let tentativasRestantes = 5 - tentativas;
          alert(`Voc√™ errou! Faltam ${tentativasRestantes} tentativa(s).`);
        } else { (chute === numeroSecreto)
          alert(`Parab√©ns! Voc√™ acertou em ${tentativas} tentativa(s)!`);
          break;
        }

      }

      let pontos = 10 - (tentativas - 1) * 2; // Ex: 10, 8, 6 // Atualiza ranking se for a melhor pontua√ß√£o
          melhorPontuacao = pontos;
          if (pontos > melhorPontuacao)
          {
            alert(`üéâ Novo recorde: ${melhorPontuacao} pontos!`);
          } else {
            alert(`Voc√™ fez ${pontos} pontos. Recorde atual: ${melhorPontuacao}`);
          }

          acertou = true;
          break;
          alert("Voc√™ errou!");

      if (!acertou) {
        alert(`Fim de jogo! O n√∫mero era ${numeroSecreto}.`);
      }
    }
      jogarNovamente = confirm("Deseja jogar novamente?");

      alert("Obrigado por jogar!");

  }
  </script>

<img id="purpleGif" src="purplevibe.gif" alt="dev fetus">

</body>
</html>
